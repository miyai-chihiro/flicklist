function AbuiFlickmenu(t){this.wrapperElements=t.wrapperElements,this.flickElements=$(this.wrapperElements).find(".flick-li"),this.flickContentsList=[],this.pane_count=3,this.pane_width=0,this.remit=200,this.swipe=null,this.hammertime={},this.init()}AbuiFlickmenu.prototype.init=function(){this.setFlickContentsList(),this.setFlickLayout(),this.registerHammer()},AbuiFlickmenu.prototype.setFlickContentsList=function(){var t=this;$(this.flickElements).each(function(e,i){t.flickContentsList.push({readed:!1,id:"flick-li_"+e,content:i,container:$(i).find("ul"),panes:$(i).find("li")})})},AbuiFlickmenu.prototype.resetData=function(t,e){console.log(e),$(this.flickContentsList).each(function(i,n){n.id==t&&(n.readed=e)})},AbuiFlickmenu.prototype.returnReadStatus=function(t){var e;return $(this.flickContentsList).each(function(i,n){n.id==t&&(e=n.readed)}),e},AbuiFlickmenu.prototype.changeReadBackground=function(){$(this.flickContentsList).each(function(t,e){e.readed?$(e.content).addClass("flick-li--readed"):$(e.content).removeClass("flick-li--readed")})},AbuiFlickmenu.prototype.setFlickLayout=function(){var t=this;$(this.flickContentsList).each(function(e,i){$(i.content).attr("id","flick-li_"+e),t.pane_width=i.content.offsetWidth,$(i.panes).each(function(e,i){$(i).css({width:t.pane_width+"px"})}),$(i.container).css({width:t.pane_width*t.pane_count+"px","-webkit-transform":"translate("+-1*t.pane_width+"px,0)"})})},AbuiFlickmenu.prototype.setContainerOffset=function(t,e,i){var n=$(t).parents("ul");n.removeClass("animate"),i&&n.addClass("animate"),n.css({"-webkit-transform":"translate("+e+"px,0)"})},AbuiFlickmenu.prototype.registerHammer=function(){var t=this;$(this.flickContentsList).each(function(e,i){t.hammertime=new window.Hammer(i.content,{dragLockToAxis:!0,dragBlockHorizontal:!0,gesture:!0}),t.hammertime.on("release dragleft dragright swipeleft swiperight",function(e){t.hammerHandler(e,t)})})},AbuiFlickmenu.prototype.hammerHandler=function(t,e){var e=this,i=$(t.target).parents(".flick-li");switch(t.gesture.preventDefault(),console.log(t.type),t.type){case"dragleft":if(!this.returnReadStatus(i.attr("id"))){if(t.gesture.deltaX<-1*this.remit)return;e.setContainerOffset(t.gesture.target,t.gesture.deltaX+-1*e.pane_width,!0),t.gesture.deltaX<-100&&e.setReadStatus(i)}break;case"dragright":if(this.returnReadStatus(i.attr("id"))){if(t.gesture.deltaX>this.remit)return;e.setContainerOffset(t.gesture.target,t.gesture.deltaX-e.pane_width,!0),$(i).find("ul").on("webkitTransitionEnd",function(){e.resetData(i.attr("id"),!1),e.changeReadBackground(),$(this).off("webkitTransitionEnd")})}break;case"swipeleft":this.returnReadStatus(i.attr("id"))||(this.swipe=t.type,e.setContainerOffset(t.gesture.target,-1*(e.remit+e.pane_width),!0),t.gesture.deltaX<-100&&e.setReadStatus(i));break;case"swiperight":this.returnReadStatus(i.attr("id"))&&(this.swipe=t.type,e.setContainerOffset(t.gesture.target,e.remit-e.pane_width,!0),$(i).find("ul").on("webkitTransitionEnd",function(){e.resetData(i.attr("id"),!1),e.changeReadBackground(),$(this).off("webkitTransitionEnd")}));break;case"release":this.swipe?setTimeout(function(){e.setContainerOffset(t.gesture.target,-1*e.pane_width,!0),e.swipe=null},200):e.setContainerOffset(t.gesture.target,-1*e.pane_width,!0)}AbuiFlickmenu.prototype.setReadStatus=function(t){$(t).find("ul").on("webkitTransitionEnd",function(){e.resetData(t.attr("id"),!0),e.changeReadBackground(),$(this).off("webkitTransitionEnd")})}};